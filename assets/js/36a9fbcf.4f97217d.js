"use strict";(globalThis.webpackChunkdev_setup=globalThis.webpackChunkdev_setup||[]).push([[5997],{7242:(t,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Tag-scripts/create-tagpaths-history-provider","title":"Create TagPaths of History Provider Tags","description":"Creating a list of tagPaths for History Provider tags in Ignition allows you to identify and retrieve all tags within a folder that have history enabled. This is useful for managing historical data collection and analysis.","source":"@site/scripts/Tag-scripts/create-tagpaths-history-provider.md","sourceDirName":"Tag-scripts","slug":"/Tag-scripts/create-tagpaths-history-provider","permalink":"/doc/scripts/Tag-scripts/create-tagpaths-history-provider","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"scriptsSidebar","previous":{"title":"OPC to MEMORY Tag Conversion","permalink":"/doc/scripts/Tag-scripts/opc-to-memory"},"next":{"title":"Change UDT Instance Parameters","permalink":"/doc/scripts/Tag-scripts/change-udt-parameters"}}');var n=r(4848),i=r(8453);const s={sidebar_position:2},o="Create TagPaths of History Provider Tags",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Description",id:"description",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Configuration Script",id:"configuration-script",level:2},{value:"Usage",id:"usage",level:2},{value:"Returns",id:"returns",level:2}];function h(t){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.header,{children:(0,n.jsx)(e.h1,{id:"create-tagpaths-of-history-provider-tags",children:"Create TagPaths of History Provider Tags"})}),"\n",(0,n.jsx)(e.p,{children:"Creating a list of tagPaths for History Provider tags in Ignition allows you to identify and retrieve all tags within a folder that have history enabled. This is useful for managing historical data collection and analysis."}),"\n",(0,n.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(e.p,{children:"This script helps you:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"Query tags with History Provider enabled"}),"\n",(0,n.jsx)(e.li,{children:"Extract tagPaths for further processing"}),"\n",(0,n.jsx)(e.li,{children:"Filter tags based on history attributes"}),"\n",(0,n.jsx)(e.li,{children:"Return a list of all tags with history enabled in a specified folder"}),"\n"]}),"\n",(0,n.jsx)(e.h2,{id:"description",children:"Description"}),"\n",(0,n.jsxs)(e.p,{children:["This script creates a ",(0,n.jsx)(e.strong,{children:"list of tagPaths for all tags in a specified folder that have the History Provider attribute enabled"}),". It queries the tag provider and returns the full paths of matching tags. ",(0,n.jsx)(e.code,{children:"Add this script to project library and call"})," Change the parameters according to your folder structure."]}),"\n",(0,n.jsx)(e.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-python",children:'tagPath = "TagPath to the parent folder"  # Example: "[tag_provider]Area/Motors/Motor1"\ntagProvider = \'default\'  # The tag provider to query\n'})}),"\n",(0,n.jsx)(e.h2,{id:"configuration-script",children:"Configuration Script"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-python",metastring:'title="Python"',children:'"""\nDESCRIPTION:  Script to Create List of tagPaths of History provider tags\nPARAMS:\n\t- : tagPath = "TagPath to the parent folder" # "[tag_provider]Area/Motors/Motor1"\n\t- : tagProvider = \'default\' \nRETURN:\n\t- :  Returns List of tagPaths of History Provider tags\n"""\n\ndef Create_tagPaths_of_HistoryProvider_tags(tagPath, tagProvider):\n\t\n\t# Parameters\n\ttagpath = tagPath + "*"\n\tprovider = tagProvider\n\tquery = {\n\t\t\t"options": {\n\t\t\t"includeUdtMembers": True,\n\t\t\t"includeUdtDefinitions": False\n\t\t\t},\n\t\t\t"condition": {\n\t\t\t"path": tagpath,\n\t\t\t"attributes": {\n\t\t\t  "values": [\n\t\t\t    "history"\n\t\t\t  ],\n\t\t\t  "requireAll": True\n\t\t\t}\n\t\t\t},\n\t\t\t"returnProperties": [\n\t\t\t"tagType",\n\t\t\t"quality"\n\t\t\t]\n\t\t\t}\n\t\t\t\n\t# Get the Tags having History Provider\n\tTags = system.tag.query(provider, query)\n\tTagPaths = []\n\t\n\t# Store the tagPaths in a List \n\tfor i in range(len(Tags)):\n\t\t    TagPaths.append(Tags[i][\'fullPath\'])\n\t    \n\t# Return the List    \n\treturn TagPaths\n'})}),"\n",(0,n.jsx)(e.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(e.p,{children:"To use this script, call the function with your tag path and provider:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-python",children:"# Example usage\ntagPath = \"[default]Area/Motors/Motor1/\"\ntagProvider = 'default'\nhistoryTagPaths = Create_tagPaths_of_HistoryProvider_tags(tagPath, tagProvider)\n\n# Print the results\nprint(historyTagPaths)\n"})}),"\n",(0,n.jsx)(e.h2,{id:"returns",children:"Returns"}),"\n",(0,n.jsx)(e.p,{children:"The function returns a list containing the full paths of all tags with History Provider enabled:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-python",children:'[\n    "[default]Area/Motors/Motor1/Temperature",\n    "[default]Area/Motors/Motor1/Pressure",\n    "[default]Area/Motors/Motor1/Speed"\n]\n'})})]})}function c(t={}){const{wrapper:e}={...(0,i.R)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(h,{...t})}):h(t)}},8453:(t,e,r)=>{r.d(e,{R:()=>s,x:()=>o});var a=r(6540);const n={},i=a.createContext(n);function s(t){const e=a.useContext(i);return a.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function o(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(n):t.components||n:s(t.components),a.createElement(i.Provider,{value:e},t.children)}}}]);